# Symi Proxy

Home Assistant OS的代理管理插件，支持订阅地址和节点选择。

## 版本更新

当前版本：1.0.7

## 最新更新内容

### 1.0.7 版本 (2025年5月8日)
- 修复了订阅解析问题，增强了Base64解码功能
- 改进了iptables规则设置，提高了稳定性
- 优化了健康检查机制，避免端口冲突
- 增强了错误处理和日志记录
- 更新了文档，添加了更详细的使用说明

### 1.0.6 版本
- 修复了Alpine Linux包管理器安装命令的问题
- 修正了Alpine仓库URL格式，移除了多余的引号
- 统一了所有配置文件中的版本号

## 安装说明

1. 在Home Assistant中添加此仓库：https://github.com/symi-daguo/symi-proxy
2. 安装Symi Proxy插件
3. 配置您的订阅URL或自定义节点
4. 启动插件

## 详细配置说明

### 订阅URL
在配置页面中填入您的订阅URL，插件会自动解析并获取节点信息。支持的订阅格式包括：
- Base64编码的文本
- JSON格式
- 纯文本格式（每行一个节点）

### 自定义节点
如果您不使用订阅，也可以手动添加节点信息。支持两种格式：
1. 简单格式：`{"name": "节点名称", "address": "服务器地址", "port": 端口号}`
2. 完整格式：包含加密方式、密码等信息的完整配置

### 端口设置
- `local_port`: 本地代理端口，默认7088
- `web_port`: Web管理界面端口，默认8123

## 使用说明

1. 安装并启动插件后，访问 `http://your-homeassistant:8123` 进入Web管理界面
2. 在界面中可以查看所有节点状态、选择节点、更新订阅
3. 选择节点后，插件会自动启动代理服务
4. 在Home Assistant中配置网络使用此代理，即可正常访问网络

## 功能特点
- 支持多种订阅格式
- 支持自定义节点配置
- 提供Web界面进行管理
- 自动更新订阅
- 自动检测节点可用性
- 自动选择最佳节点

## 问题排查

如果遇到"安装加载项失败"错误，请确认：
1. 您的Home Assistant可以访问互联网
2. Alpine Linux仓库可以正常访问

如果插件安装成功但无法连接网络：
1. 检查订阅URL是否有效
2. 检查节点是否可用（在Web界面中可以查看节点状态）
3. 检查Home Assistant网络配置是否正确使用了代理

## 联系方式

如有问题，请在GitHub仓库提交Issue。
